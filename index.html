<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Turningpoint Musos</title>

    <!-- Stylesheets -->
    <link rel="shortcut icon" href="./style/images/LOGO.jpg" />
    <link rel="stylesheet" href="./style/mainapp.css">
    <!-- Use the same CSS for key button styling -->
    <link rel="stylesheet" href="./style/jquery.transposer.css">
    <!-- ---------------- -->

    <!-- SUPABASE CLIENT -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script> <!-- Add this line -->

    <!-- Fonts -->
    <link
        href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&display=swap"
        rel="stylesheet">
    <!-- <link
        href="https://fonts.googleapis.com/css2?family=Nunito:ital,wght@0,200..1000;1,200..1000&family=Roboto+Mono:ital,wght@0,100..700;1,100..700&display=swap"
        rel="stylesheet"> -->
    <!-- ---------- -->

    <!-- Scripts -->
    <!-- Keep jQuery if needed for search or other features -->
    <script type="text/javascript" src="./assets/jquery/jquery.min.js"></script>
    <!-- REMOVED: <script type="text/javascript" src="./assets/jquery/jquery.transposer.js"></script> -->
    <!------------------>

</head>

<body>
    <div id="navigation">
        <div id="textdiv">
            TURNING POINT MUSOS
        </div>
    </div>

    <!-- TESTING TESTING -->
    <!-- Button to Open Setlist Modal -->
    <div style="padding: 15px; text-align: center;">
        <!-- Basic styling -->
        <button id="open-setlist-modal-btn"
            style=" background-color: #4CAF50; border: none;border-radius: 5px; color: white; padding: 15px 20px; font-size: 16px;font-family: 'Montserrat', sans-serif; font-weight: 500;">Set
            List</button>
    </div>

    <!-- Setlist Modal (Initially Hidden) -->
    <div id="setlist-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-modal-btn">Ã—</span>
            <h2>Weekend Setlist Management</h2>

            <div id="current-setlist-display">
                <h3>Current Setlist:</h3>
                <ul id="current-setlist-items">
                    <!-- Populated by JavaScript -->
                    <li>Loading...</li>
                </ul>
            </div>

            <hr>

            <div id="add-song-section">
                <h3>Add Song:</h3>
                <div>
                    <label for="song-select-dropdown">Song:</label>
                    <select id="song-select-dropdown">
                        <option value="">-- Select a Song --</option>
                        <!-- Options populated by JavaScript -->
                    </select>
                </div>
                <div>
                    <label for="key-select-dropdown">Key:</label>
                    <select id="key-select-dropdown">
                        <option value="C">C</option>
                        <option value="Db">Db</option>
                        <option value="D">D</option>
                        <option value="Eb">Eb</option>
                        <option value="E">E</option>
                        <option value="F">F</option>
                        <option value="Gb">Gb</option>
                        <option value="G">G</option>
                        <option value="Ab">Ab</option>
                        <option value="A">A</option>
                        <option value="Bb">Bb</option>
                        <option value="B">B</option>
                    </select>
                </div>
                <button id="add-song-to-setlist-btn">Add to Setlist</button>
            </div>
        </div>
    </div>
    <!-- --------------- -->

    <div>
        <!-- Your Table One (SONG LIST) - Now dynamically populated -->
        <table id="tableone">
            <caption>SONG LIST (This Weekend's Setlist)</caption> <!-- Optional: Update caption -->
            <thead>
                <tr>
                    <td>NAME OF SONG</td>
                    <td>CHORDS (Selected Key)</td> <!-- Optional: Update header -->
                    <td>LYRICS</td>
                </tr>
            </thead>
            <tbody>
                <!-- This will be populated by JavaScript -->
                <!-- You can leave a placeholder row if you like -->
                <tr>
                    <td colspan="3" style="text-align:center;">Loading setlist...</td>
                </tr>
            </tbody>
        </table>
    </div>

    <div>
        <input id="myInput" onkeyup="myFunction()" placeholder="Search for a song name" type="text">
        <!-- Your Table Two (SONG DATABASE) Here -->
        <table id="tabletwo">
            <caption>SONG DATABASE</caption>
            <thead>
                <tr>
                    <td>NAME OF SONG</td>
                    <td>CHORDS</td>
                    <td>LYRICS</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>10 000 Reasons</td>
                    <td><a href="#" data-song-name="10000-reasons" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="10000-reasons" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>A Thousand Hallelujahs</td>
                    <td><a href="#" data-song-name="a-thousand-hallelujahs" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="a-thousand-hallelujahs" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Above all</td>
                    <td><a href="#" data-song-name="above-all" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="above-all" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>All Creation cries to you</td>
                    <td><a href="#" data-song-name="all-creation" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="all-creation" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>All over the world</td>
                    <td><a href="#" data-song-name="all-over-the-world" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="all-over-the-world" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>All to you - Brad Klynsmith</td>
                    <td><a href="#" data-song-name="all-to-you-brad-klynsmith" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="all-to-you-brad-klynsmith" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>All who are thirsty</td>
                    <td><a href="#" data-song-name="all-who-are-thirsty" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="all-who-are-thirsty" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Amazing Grace</td>
                    <td><a href="#" data-song-name="amazing-grace" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="amazing-grace" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Angus Dei</td>
                    <td><a href="#" data-song-name="angus-dei" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="angus-dei" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Arise and Shine</td>
                    <td><a href="#" data-song-name="arise-and-shine" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="arise-and-shine" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>As the deer</td>
                    <td><a href="#" data-song-name="as-the-deer" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="as-the-deer" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>As we lift up our hands</td>
                    <td><a href="#" data-song-name="as-we-lift-up-our-hands" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="as-we-lift-up-our-hands" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>At the Cross</td>
                    <td><a href="#" data-song-name="at-the-cross" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="at-the-cross" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Battle Belongs</td>
                    <td><a href="#" data-song-name="battle-belongs" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="battle-belongs" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Battle Song</td>
                    <td><a href="#" data-song-name="battle-song" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="battle-song" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Bayete Inkosi</td>
                    <td><a href="#" data-song-name="bayete-inkosi" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="bayete-inkosi" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Be Glorified</td>
                    <td><a href="#" data-song-name="be-glorified-by-loyiso" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="be-glorified-by-loyiso" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Be lifted high</td>
                    <td><a href="#" data-song-name="be-lifted-high" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="be-lifted-high" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Be Still - Hillsong</td>
                    <td><a href="#" data-song-name="be-still-hillsong" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="be-still-hillsong" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Be thou my vision</td>
                    <td><a href="#" data-song-name="be-thou-my-vision" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="be-thou-my-vision" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Beautiful One</td>
                    <td><a href="#" data-song-name="beautiful-one" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="beautiful-one" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Blessed be Your Name</td>
                    <td><a href="#" data-song-name="blessed-be-your-name" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="blessed-be-your-name" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Broken Vessels</td>
                    <td><a href="#" data-song-name="broken-vessels" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="broken-vessels" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Build my life</td>
                    <td><a href="#" data-song-name="build-my-life" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="build-my-life" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Cannons</td>
                    <td><a href="#" data-song-name="cannons" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="cannons" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Champion</td>
                    <td><a href="#" data-song-name="champion" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="champion" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Come away with me</td>
                    <td><a href="#" data-song-name="come-away-with-me" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="come-away-with-me" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Come, Holy Spirit</td>
                    <td><a href="#" data-song-name="come-holy-spirit" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="come-holy-spirit" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Come, now is the time</td>
                    <td><a href="#" data-song-name="come-now-is-the-time-to-worship" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="come-now-is-the-time-to-worship" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Cornerstone</td>
                    <td><a href="#" data-song-name="cornerstone" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="cornerstone" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Cry in my heart</td>
                    <td><a href="#" data-song-name="cry-in-my-heart" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="cry-in-my-heart" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Dancing Generation</td>
                    <td><a href="#" data-song-name="dancing-generation" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="dancing-generation" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Deep cries out</td>
                    <td><a href="#" data-song-name="deep-cries-out" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="deep-cries-out" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Did you feel the mountains</td>
                    <td><a href="#" data-song-name="did-you-feel-the-mountains-tremble" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="did-you-feel-the-mountains-tremble" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Draw me close</td>
                    <td><a href="#" data-song-name="draw-me-close" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="draw-me-close" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Ever be</td>
                    <td><a href="#" data-song-name="ever-be" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="ever-be" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Filled with Your Glory</td>
                    <td><a href="#" data-song-name="filled-with-your-glory" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="filled-with-your-glory" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Fire fall down</td>
                    <td><a href="#" data-song-name="fire-fall-down" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="fire-fall-down" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>For all You've Done</td>
                    <td><a href="#" data-song-name="for-all-youve-done" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="for-all-youve-done" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Forever</td>
                    <td><a href="#" data-song-name="forever" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="forever" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Freedom Reigns</td>
                    <td><a href="#" data-song-name="freedom-reigns" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="freedom-reigns" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Give Thanks</td>
                    <td><a href="#" data-song-name="give-thanks" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="give-thanks" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Glorius Day</td>
                    <td><a href="#" data-song-name="glorius-day-desperation-band" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="glorious-day-desperation-band" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>God is Great</td>
                    <td><a href="#" data-song-name="god-is-great" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="god-is-great" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>God is here</td>
                    <td><a href="#" data-song-name="god-is-here" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="god-is-here" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>God of Revival</td>
                    <td><a href="#" data-song-name="god-of-revival" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="god-of-revival" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>God of this city</td>
                    <td><a href="#" data-song-name="god-of-this-city" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="god-of-this-city" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>God of Wonders</td>
                    <td><a href="#" data-song-name="god-of-wonders" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="god-of-wonders" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>God, You're so Good</td>
                    <td><a href="#" data-song-name="god-youre-so-good" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="god-youre-so-good" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>God's NOT dead</td>
                    <td><a href="#" data-song-name="gods-not-dead" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="gods-not-dead" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Good good Father</td>
                    <td><a href="#" data-song-name="good-good-father" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="good-good-father" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Goodness of God</td>
                    <td><a href="#" data-song-name="goodness-of-god" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="goodness-of-god" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Gratitude</td>
                    <td><a href="#" data-song-name="gratitude" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="gratitude" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Graves into gardens</td>
                    <td><a href="#" data-song-name="graves-into-gardens" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="graves-into-gardens" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Great are You Lord</td>
                    <td><a href="#" data-song-name="great-are-you-lord" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="great-are-you-lord" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Great in Power</td>
                    <td><a href="#" data-song-name="great-in-power" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="great-in-power" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Hallelu</td>
                    <td><a href="#" data-song-name="hallelu" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="hallelu" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Happy Day</td>
                    <td><a href="#" data-song-name="happy-day" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="happy-day" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Have it all</td>
                    <td><a href="#" data-song-name="have-it-all-brian-johnston" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="have-it-all-brian-johnston" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>He Rigns</td>
                    <td><a href="#" data-song-name="he-reigns" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="he-reigns" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Heart of Worship</td>
                    <td><a href="#" data-song-name="heart-of-worship" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="heart-of-worship" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Here for You</td>
                    <td><a href="#" data-song-name="here-for-you" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="here-for-you" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Here is love</td>
                    <td><a href="#" data-song-name="here-is-love" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="here-is-love" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Holy and anointed One</td>
                    <td><a href="#" data-song-name="holy-and-anointed-one" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="holy-and-anointed-one" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Holy Forever</td>
                    <td><a href="#" data-song-name="holy-forever" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="holy-forever" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Holy Spirit</td>
                    <td><a href="#" data-song-name="holy-spirit" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="holy-spirit" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Hosana in the highest</td>
                    <td><a href="#" data-song-name="hosana-in-the-highest" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="hosana-in-the-highest" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Hosana - Praise is Rising</td>
                    <td><a href="#" data-song-name="hosanna-praise is rising" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="hosanna-praise is rising" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>House of The Lord</td>
                    <td><a href="#" data-song-name="house-of-the-lord" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="house-of-the-lord" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>How Great how Great is He</td>
                    <td><a href="#" data-song-name="how-great-how-great-is-he" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="how-great-how-great-is-he" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>How Great is our God</td>
                    <td><a href="#" data-song-name="how-great-is-our-god" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="how-great-is-our-god" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>How great You are</td>
                    <td><a href="#" data-song-name="how-great-you-are" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="how-great-you-are" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I am free</td>
                    <td><a href="#" data-song-name="i-am-free" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="i-am-free" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I belong to You</td>
                    <td><a href="#" data-song-name="i-belong-to-you" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="i-belong-to-you" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I can only Imagine</td>
                    <td><a href="#" data-song-name="i-can-only-imagine" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="i-can-only-imagine" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I give myself away</td>
                    <td><a href="#" data-song-name="i-give-myself-away-mcdowell" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="i-give-myself-away-mcdowell" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>I see Your Face</td>
                    <td><a href="#" data-song-name="i-see-your-face-in every-sunrise" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="i-see-your-face" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I speak Jesus</td>
                    <td><a href="#" data-song-name="i-speak-jesus" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="i-speak-jesus" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I stand in awe</td>
                    <td><a href="#" data-song-name="i-stand-in-awe" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="i-stand-in-awe" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I want to scream it out</td>
                    <td><a href="#" data-song-name="i-want-to-scream-it-out" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="i-want-to-scream-it-out" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>I will love You</td>
                    <td><a href="#" data-song-name="i-will-love-you" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="i-will-love-you" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Indescribable</td>
                    <td><a href="#" data-song-name="indescribable" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="indescribable" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>It is well</td>
                    <td><a href="#" data-song-name="it-is-well" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="it-is-well" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>I've found a love</td>
                    <td><a href="#" data-song-name="ive-found-a-love" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="ive-found-a-love" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Jabulani Africa</td>
                    <td><a href="#" data-song-name="jabulani-africa" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="jabulani-africa" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Jehova - You are the Most High God</td>
                    <td><a href="#" data-song-name="jehova-you-are-the-most-high" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="jehova-you-are-the-most-high" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Jesus Emmanuel</td>
                    <td><a href="#" data-song-name="jesus-emmanuel" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="jesus-emmanuel" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>King of my heart</td>
                    <td><a href="#" data-song-name="king-of-my-heart" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="king-of-my-heart" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>King of Kings</td>
                    <td><a href="#" data-song-name="king-of-kings" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="king-of-kings" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Light of the world</td>
                    <td><a href="#" data-song-name="light-of-the-world" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="light-of-the-world" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Living Hope</td>
                    <td><a href="#" data-song-name="living-hope" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="living-hope" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Lord I come to You</td>
                    <td><a href="#" data-song-name="lord-i-come-to-you" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="lord-i-come-to-you" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Lord let Your Glory fall</td>
                    <td><a href="#" data-song-name="lord-let-your-glory-fall" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="lord-let-your-glory-fall" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Love you Endlessly</td>
                    <td><a href="#" data-song-name="love-you-endlessly" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="endlessly" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Magnificent</td>
                    <td><a href="#" data-song-name="magnificent" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="magnificent" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Majestic</td>
                    <td><a href="#" data-song-name="majestic" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="majestic" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Majesty - Here I am</td>
                    <td><a href="#" data-song-name="majesty-here-i-am" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="majesty-here-i-am" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>More of You</td>
                    <td><a href="#" data-song-name="more-of-you-lord" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="more-of-you-lord" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>My Glorius</td>
                    <td><a href="#" data-song-name="my-glorius" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="my-glorius" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Njalo Nje</td>
                    <td><a href="#" data-song-name="njalo-nje" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="njalo-nje" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Nothing without You</td>
                    <td><a href="#" data-song-name="nothing-without-you-dr-tumi" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="nothing-without-you-dr-tumi" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>O Praise The Name</td>
                    <td><a href="#" data-song-name="o-praise-the-name" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="o-praise-the-name" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Oceans</td>
                    <td><a href="#" data-song-name="oceans" data-content-type="chords" data-target="song-content">
                            Chords</td>
                    <td><a href="#" data-song-name="oceans" data-content-type="lyrics" data-target="song-content">
                            Lyrics</td>
                </tr>
                <tr>
                    <td>O Come to the Altar</td>
                    <td><a href="#" data-song-name="oh-come-to-the-altar" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="oh-come-to-the-altar" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>One Name</td>
                    <td><a href="#" data-song-name="one-name-ncmi-original" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="one-name" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>One thing Remains</td>
                    <td><a href="#" data-song-name="one-thing-remains" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="one-thing-remains" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>One Way</td>
                    <td><a href="#" data-song-name="one-way" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="one-way" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Open the eyes of my heart</td>
                    <td><a href="#" data-song-name="open-the-eyes" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="open-the-eyes" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Our Father</td>
                    <td><a href="#" data-song-name="our-father" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="our-father" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Praise - Elevation</td>
                    <td><a href="#" data-song-name="praise-elevation" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="praise-elevation" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Praise The Father Praise The Son</td>
                    <td><a href="#" data-song-name="praise-the-father-praise-the-son" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="praise-the-father-praise-the-son" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Praise The King</td>
                    <td><a href="#" data-song-name="praise-the-king" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="praise-the-king" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Praise Your Name</td>
                    <td><a href="#" data-song-name="praise-your-name" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="praise-your-name" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Raise a Hallelujah</td>
                    <td><a href="#" data-song-name="raise-a-hallelujah" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="raise-a-hallelujah" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Raise a Shout</td>
                    <td><a href="#" data-song-name="raise-a-shout" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="raise-a-shout" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Reckless Love</td>
                    <td><a href="#" data-song-name="reckless-love" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="reckless-love" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Revelation song</td>
                    <td><a href="#" data-song-name="revelation-song" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="revelation-song" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Rooftops</td>
                    <td><a href="#" data-song-name="rooftops" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="rooftops" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>See His Love</td>
                    <td><a href="#" data-song-name="see-his-love" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="see-his-love" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Shepherd</td>
                    <td><a href="#" data-song-name="shepherd-amanda-cook" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="shepherd-amanda-cook" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Shout Hosana</td>
                    <td><a href="#" data-song-name="shout-hosanna" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="shout-hosanna" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Shout to The Lord</td>
                    <td><a href="#" data-song-name="shout-to-the-lord" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="shout-to-the-lord" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>So will I</td>
                    <td><a href="#" data-song-name="so-will-i" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="so-will-i" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Son of God, Lord of Light</td>
                    <td><a href="#" data-song-name="son-of-god-lord-of-light" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="son-of-god-lord-of-light" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Still - Hide me now</td>
                    <td><a href="#" data-song-name="still-hide-me-now" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="still-hide-me-now" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Sweet Wind</td>
                    <td><a href="#" data-song-name="sweet-wind" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="sweet-wind" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Take me in</td>
                    <td><a href="#" data-song-name="take-me-in" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="take-me-in" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>The Blessing</td>
                    <td><a href="#" data-song-name="the-blessing" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="the-blessing" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>The Lion and The Lamb</td>
                    <td><a href="#" data-song-name="the-lion-and-the-lamb" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="the-lion-and-the-lamb" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>The river is here</td>
                    <td><a href="#" data-song-name="the-river-is-here" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="the-river-is-here" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>The Sky reveals Your Glory</td>
                    <td><a href="#" data-song-name="the-sky-reveals-your-glory" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="the-sky-reveals-your-glory" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>This is Amazing Grace</td>
                    <td><a href="#" data-song-name="this-is-amazing-grace" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="this-is-amazing-grace" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>This is my desire</td>
                    <td><a href="#" data-song-name="this-is-my-desire" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="this-is-my-desire" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Treasure</td>
                    <td><a href="#" data-song-name="treasure-tree63" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="treasure-tree63" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Unfignified</td>
                    <td><a href="#" data-song-name="undignified-matt-redman" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="undignified-matt-redman" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Unfailing Love/td>
                    <td><a href="#" data-song-name="unfailing-love" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="unfailing-love" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Unstoppable God</td>
                    <td><a href="#" data-song-name="unstoppable-god" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="unstoppable-god" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Voice of Thunder</td>
                    <td><a href="#" data-song-name="voice-of-thunder" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="voice-of-thunder" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Waiting here for You</td>
                    <td><a href="#" data-song-name="waiting-here-for-you" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="waiting-here-for-you" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Walk with me</td>
                    <td><a href="#" data-song-name="walk-with-me" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="walk-with-me" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Water You turned into wine</td>
                    <td><a href="#" data-song-name="water-you-turned-into-wine" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="water-you-turned-into-wine" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Way Maker</td>
                    <td><a href="#" data-song-name="way-maker" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="way-maker" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>We are the free</td>
                    <td><a href="#" data-song-name="we-are-the-free" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="we-are-the-free" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>We will sing sing sing</td>
                    <td><a href="#" data-song-name="we-will-sing-sing-sing" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="we-will-sing-sing-sing" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>What a Beautiful Name</td>
                    <td><a href="#" data-song-name="what-a-beautiful-name" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="what-a-beautiful-name" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Who You say I am</td>
                    <td><a href="#" data-song-name="who-you-say-i-am" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="who-you-say-i-am" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Whole world in His Hands</td>
                    <td><a href="#" data-song-name="whole-world-in-his-hands" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="whole-world-in-his-hands" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Worthy</td>
                    <td><a href="#" data-song-name="worthy" data-content-type="chords" data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="worthy" data-content-type="lyrics" data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>Worthy is The Lamb</td>
                    <td><a href="#" data-song-name="worthy-is-the-lamb" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="worthy-is-the-lamb" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Worthy of it all</td>
                    <td><a href="#" data-song-name="worthy-of-it-all" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="worthy-of-it-all" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>You are Good</td>
                    <td><a href="#" data-song-name="you-are-good" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="you-are-good" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>You are my Strength</td>
                    <td><a href="#" data-song-name="you-are-my-strength" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="you-are-my-strength" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>You make me brave</td>
                    <td><a href="#" data-song-name="you-make-me-brave" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="you-make-me-brave" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Your Grace is Enough</td>
                    <td><a href="#" data-song-name="your-grace-is-enough" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="your-grace-is-enough" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Your love awakens me</td>
                    <td><a href="#" data-song-name="your-love-awakens-me" data-content-type="chords"
                            data-target="song-content">Chords</td>
                    <td><a href="#" data-song-name="your-love-awakens-me" data-content-type="lyrics"
                            data-target="song-content">Lyrics</td>
                </tr>
                <tr>
                    <td>Your Love Never fails</td>
                    <td><a href="#" data-song-name="your-love-never-fails" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="your-love-never-fails" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
                <tr>
                    <td>You're Beautiful</td>
                    <td><a href="#" data-song-name="youre-beautiful-phil-whickam" data-content-type="chords"
                            data-target="song-content">Chords
                    </td>
                    <td><a href="#" data-song-name="youre-beautiful-phil-whickam" data-content-type="lyrics"
                            data-target="song-content">Lyrics
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <script>

        // --- SUPABASE INTEGRATION ---

        // Replace with YOUR Supabase URL and Anon Key
        const SUPABASE_URL = 'https://hjnewoghwyecmgmjsxgn.supabase.co';
        const SUPABASE_ANON_KEY = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImhqbmV3b2dod3llY21nbWpzeGduIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDM1MDU5ODEsImV4cCI6MjA1OTA4MTk4MX0.lzs2Ol0tUWzk0-m-gQHBRPsOjWLBKA0bhImOixFeoUY';

        // Initialize Supabase client
        let supabase = null;
        // Check if the Supabase library object exists globally before trying to use it
        if (SUPABASE_URL && SUPABASE_ANON_KEY && window.supabase)
        {
            try
            {
                supabase = window.supabase.createClient(SUPABASE_URL, SUPABASE_ANON_KEY);
                console.log("Supabase client initialized.");
            } catch (e)
            {
                console.error("Error initializing Supabase client:", e);
                supabase = null; // Ensure it's null if init fails
            }
        } else
        {
            console.error("Supabase URL or Anon Key missing, or Supabase client library not loaded.");
            // Optionally disable setlist features if Supabase isn't configured
            const openBtn = document.getElementById('open-setlist-modal-btn');
            if (openBtn)
            {
                openBtn.disabled = true;
                openBtn.textContent = "Setlist Disabled (Config Error)";
            }
        }

        let currentSetlist = []; // In-memory cache of the setlist
        const setlistLabel = 'current_weekend'; // The label used in the database

        // --- Modal Elements ---
        // Get elements safely, checking if they exist
        const modal = document.getElementById('setlist-modal');
        const openModalBtn = document.getElementById('open-setlist-modal-btn');
        const closeModalBtn = modal ? modal.querySelector('.close-modal-btn') : null;
        const currentSetlistItemsUl = document.getElementById('current-setlist-items');
        const songSelectDropdown = document.getElementById('song-select-dropdown');
        const keySelectDropdown = document.getElementById('key-select-dropdown');
        const addSongBtn = document.getElementById('add-song-to-setlist-btn');
        const tableOneBody = document.querySelector('#tableone tbody'); // Get table one body reference

        // --- Functions ---

        /**
         * Fetches the current setlist from Supabase.
         */
        async function loadSetlistFromSupabase()
        {
            // Check if Supabase client initialized successfully AND if the UI elements exist
            if (!supabase || !currentSetlistItemsUl || !tableOneBody)
            {
                console.warn("Supabase client not ready or required UI elements missing. Cannot load setlist.");
                // Show appropriate message in table one if element exists
                if (tableOneBody) tableOneBody.innerHTML = '<tr><td colspan="3" style="text-align:center;">Setlist feature unavailable (config error).</td></tr>';
                if (currentSetlistItemsUl) currentSetlistItemsUl.innerHTML = '<li>Setlist unavailable</li>';
                return;
            }

            console.log("Loading setlist from Supabase...");
            currentSetlistItemsUl.innerHTML = '<li>Loading...</li>'; // Show loading state in modal
            tableOneBody.innerHTML = '<tr><td colspan="3" style="text-align:center;">Loading setlist...</td></tr>'; // Show loading state in table

            try
            {
                const { data, error, status } = await supabase
                    .from('setlists')
                    .select('songs')
                    .eq('label', setlistLabel)
                    .single();

                if (error)
                {
                    if (status === 406 || error.code === 'PGRST116')
                    {
                        console.warn(`Setlist row with label "${setlistLabel}" not found.`);
                        currentSetlist = [];
                    } else
                    {
                        throw error;
                    }
                } else if (data && data.songs)
                {
                    currentSetlist = Array.isArray(data.songs) ? data.songs : [];
                    console.log("Setlist loaded:", currentSetlist);
                } else
                {
                    currentSetlist = [];
                    console.warn("Setlist row found but 'songs' data is missing or not an array, defaulting to empty.");
                }

            } catch (error)
            {
                console.error('Error loading setlist:', error);
                currentSetlist = []; // Reset to empty on error
                if (currentSetlistItemsUl) currentSetlistItemsUl.innerHTML = '<li>Error loading setlist.</li>';
                if (tableOneBody) tableOneBody.innerHTML = '<tr><td colspan="3" style="text-align:center;">Error loading setlist.</td></tr>';
            } finally
            {
                // Always render the UI based on the final state of currentSetlist
                if (currentSetlistItemsUl) renderSetlistUI();
                // Update table one AFTER potentially updating currentSetlist
                if (tableOneBody) updateTableOneWithSetlist();
            }
        }

        /**
         * Saves the current in-memory setlist array to Supabase.
         */
        async function saveSetlistToSupabase()
        {
            if (!supabase)
            {
                alert('Cannot save setlist: Supabase connection issue.');
                return;
            }
            // Ensure currentSetlist is an array before saving
            if (!Array.isArray(currentSetlist))
            {
                console.error("Attempted to save non-array data as setlist. Aborting.", currentSetlist);
                alert("Error: Invalid setlist data. Cannot save.");
                return; // Prevent saving invalid data
            }
            console.log("Saving setlist to Supabase:", currentSetlist);

            try
            {
                const { error } = await supabase
                    .from('setlists')
                    .update({ songs: currentSetlist })
                    .eq('label', setlistLabel);

                if (error) throw error;

                console.log('Setlist saved successfully.');

            } catch (error)
            {
                console.error('Error saving setlist:', error);
                alert('Failed to save setlist. Please check console for details.');
                // Consider reloading data to ensure consistency after a failed save
                // await loadSetlistFromSupabase();
            }
        }

        /**
         * Renders the current setlist items in the modal UI.
         */
        function renderSetlistUI()
        {
            if (!currentSetlistItemsUl) return; // Exit if element doesn't exist
            currentSetlistItemsUl.innerHTML = ''; // Clear previous items

            if (!Array.isArray(currentSetlist) || currentSetlist.length === 0)
            {
                currentSetlistItemsUl.innerHTML = '<li>Setlist is empty.</li>';
                return;
            }

            currentSetlist.forEach((item, index) =>
            {
                // Basic validation of item structure
                const displayName = item?.displayName ?? 'Unknown Song';
                const key = item?.key ?? '?';

                const listItem = document.createElement('li');
                const span = document.createElement('span');
                span.textContent = `${displayName} (${key})`; // Use textContent for safety

                const button = document.createElement('button');
                button.className = 'remove-song-btn';
                button.dataset.index = index;
                button.textContent = 'Remove';

                listItem.appendChild(span);
                listItem.appendChild(button);
                currentSetlistItemsUl.appendChild(listItem);
            });
        }

        /**
        * Updates the #tableone UI to display the current setlist.
        */
        function updateTableOneWithSetlist()
        {
            if (!tableOneBody)
            { // Check if element exists
                console.error("#tableone tbody not found!");
                return;
            }

            tableOneBody.innerHTML = ''; // Clear existing rows

            if (!Array.isArray(currentSetlist) || currentSetlist.length === 0)
            {
                tableOneBody.innerHTML = '<tr><td colspan="3" style="text-align:center;">Setlist is empty. Add songs using the button above.</td></tr>';
                return;
            }

            currentSetlist.forEach(item =>
            {
                // Destructure with defaults for safety
                const { songName, displayName = 'Unknown Song', key = '?' } = item || {};

                if (!songName)
                {
                    console.warn("Skipping setlist item due to missing songName:", item);
                    return; // Skip item if essential data is missing
                }

                const row = tableOneBody.insertRow();

                const cellName = row.insertCell();
                cellName.textContent = displayName;

                const cellChords = row.insertCell();
                const chordLink = document.createElement('a');
                chordLink.href = '#';
                chordLink.textContent = `Chords (${key})`; // Show the selected key
                chordLink.dataset.songName = songName;
                chordLink.dataset.contentType = 'chords';
                cellChords.appendChild(chordLink);
                cellChords.style.textAlign = 'center';
                cellChords.style.width = '20%';


                const cellLyrics = row.insertCell();
                const lyricLink = document.createElement('a');
                lyricLink.href = '#';
                lyricLink.textContent = 'Lyrics';
                lyricLink.dataset.songName = songName;
                lyricLink.dataset.contentType = 'lyrics';
                cellLyrics.appendChild(lyricLink);
                cellLyrics.style.textAlign = 'center';
                cellLyrics.style.width = '20%';
            });
            // Event listeners handled by delegation attached to document.body
        }

        /**
         * Populates the "Add Song" dropdown from the main song table (#tabletwo).
         */
        function populateSongDropdown()
        {
            const songTable = document.getElementById('tabletwo');
            // Ensure dropdown and table exist
            if (!songSelectDropdown || !songTable) return;
            const tableBody = songTable.querySelector('tbody');
            if (!tableBody) return;
            const tableRows = tableBody.querySelectorAll('tr');

            // Clear existing options except the placeholder
            songSelectDropdown.innerHTML = '<option value="">-- Select a Song --</option>';

            tableRows.forEach(row =>
            {
                if (row.cells.length < 3) return; // Skip malformed rows

                const songNameCell = row.cells[0];
                const chordsCell = row.cells[1];
                const lyricsCell = row.cells[2];

                let songFileIdentifier = '';
                let displayName = (songNameCell.textContent || songNameCell.innerText || '').trim();

                // Find the data-song-name from the links
                const chordLink = chordsCell.querySelector('a[data-song-name]');
                if (chordLink)
                {
                    songFileIdentifier = chordLink.dataset.songName;
                } else
                {
                    const lyricsLink = lyricsCell.querySelector('a[data-song-name]');
                    if (lyricsLink) songFileIdentifier = lyricsLink.dataset.songName;
                }

                // Add to dropdown only if we have both a display name and a file identifier
                if (songFileIdentifier && displayName)
                {
                    const option = document.createElement('option');
                    option.value = songFileIdentifier;
                    option.textContent = displayName;
                    option.dataset.displayName = displayName;
                    songSelectDropdown.appendChild(option);
                } else if (displayName && displayName !== 'NAME OF SONG')
                {
                    console.warn(`Could not find file identifier (data-song-name link) for table row starting with: ${displayName}`);
                }
            });
        }

        // --- Event Listeners ---

        // Open Modal
        if (openModalBtn)
        {
            openModalBtn.addEventListener('click', () =>
            {
                if (modal && supabase)
                { // Only open if modal exists and supabase is ready
                    modal.style.display = 'block';
                    // Load latest setlist data ONLY when opening the modal
                    loadSetlistFromSupabase(); // Re-fetch fresh data on open
                } else if (!supabase)
                {
                    alert("Setlist feature is unavailable (Supabase connection failed).");
                }
            });
        } else
        {
            console.warn("Open modal button not found.");
        }

        // Close Modal Button
        if (closeModalBtn)
        {
            closeModalBtn.addEventListener('click', () =>
            {
                if (modal) modal.style.display = 'none';
                // Update tableone when modal is closed to reflect potential changes
                updateTableOneWithSetlist();
            });
        }

        // Close Modal on outside click (Backdrop)
        window.addEventListener('click', (event) =>
        {
            if (modal && event.target == modal)
            {
                modal.style.display = 'none';
                // Update tableone when modal is closed to reflect potential changes
                updateTableOneWithSetlist();
            }
        });

        // Add Song Button (inside modal)
        if (addSongBtn)
        {
            addSongBtn.addEventListener('click', async () =>
            {
                if (!songSelectDropdown || !keySelectDropdown) return;

                const selectedSongOption = songSelectDropdown.options[songSelectDropdown.selectedIndex];
                const songFileIdentifier = selectedSongOption.value;
                const displayName = selectedSongOption.dataset.displayName || selectedSongOption.textContent;
                const selectedKey = keySelectDropdown.value;

                if (!songFileIdentifier)
                {
                    alert('Please select a song.');
                    return;
                }
                // Ensure currentSetlist is an array
                if (!Array.isArray(currentSetlist)) currentSetlist = [];

                const exists = currentSetlist.some(item => item && item.songName === songFileIdentifier);
                if (exists)
                {
                    alert(`"${displayName}" is already in the setlist.`);
                    return;
                }

                currentSetlist.push({
                    songName: songFileIdentifier,
                    displayName: displayName,
                    key: selectedKey
                });

                renderSetlistUI(); // Update modal list
                await saveSetlistToSupabase(); // Save to DB
                // Don't update tableone here - wait until modal closes

                songSelectDropdown.selectedIndex = 0;
                keySelectDropdown.selectedIndex = 0;
            });
        } else
        {
            console.warn("Add song button not found.");
        }

        // Remove Song Button (using event delegation on the UL in modal)
        if (currentSetlistItemsUl)
        {
            currentSetlistItemsUl.addEventListener('click', async (event) =>
            {
                if (event.target.classList.contains('remove-song-btn'))
                {
                    const indexToRemove = parseInt(event.target.dataset.index, 10);

                    if (!Array.isArray(currentSetlist)) currentSetlist = []; // Safety check

                    if (!isNaN(indexToRemove) && indexToRemove >= 0 && indexToRemove < currentSetlist.length)
                    {
                        const removedItem = currentSetlist.splice(indexToRemove, 1);
                        console.log("Removed:", removedItem[0]?.displayName ?? 'item');

                        renderSetlistUI(); // Update modal list
                        await saveSetlistToSupabase(); // Save to DB
                        // Don't update tableone here - wait until modal closes
                    } else
                    {
                        console.error("Invalid index for removal:", event.target.dataset.index);
                    }
                }
            });
        } else
        {
            console.warn("Current setlist UL element not found.");
        }

        // --- MODIFIED handleSongClick (for links in tableone and tabletwo) ---
        async function handleSongClick(event, linkElement)
        { // Accepts event and the link
            event.preventDefault(); // Prevent default link navigation

            const songName = linkElement.dataset.songName;
            const contentType = linkElement.dataset.contentType;

            if (!songName || !contentType)
            {
                console.error("Link is missing data-song-name or data-content-type", linkElement);
                return;
            }

            const songURL = `./assets/${contentType}/${songName}.txt`;
            const templateURL = "./assets/master/template.html"; // Adjust path if necessary

            try
            {
                // Fetch the song content
                let songContent = '';
                try
                {
                    const response = await fetch(songURL);
                    if (!response.ok) throw new Error(`Initial fetch failed: ${response.statusText}`);
                    songContent = await response.text();
                } catch (initialError)
                {
                    console.warn(`Failed to fetch from ${songURL}, trying fallback...`, initialError);
                    const fallbackSongURL = `./${songName}.txt`;
                    try
                    {
                        const fallbackResponse = await fetch(fallbackSongURL);
                        if (!fallbackResponse.ok) throw new Error(`Fallback fetch failed: ${fallbackResponse.statusText}`);
                        songContent = await fallbackResponse.text();
                        console.log(`Successfully fetched from fallback: ${fallbackSongURL}`);
                    } catch (fallbackError)
                    {
                        throw new Error(`Failed to load song content for ${songName} from multiple paths. Error: ${fallbackError.message}`);
                    }
                }

                // Check the loaded setlist for the key
                let selectedKey = null;
                if (Array.isArray(currentSetlist) && currentSetlist.length > 0)
                {
                    const setlistItem = currentSetlist.find(item => item && item.songName === songName);
                    if (setlistItem)
                    {
                        selectedKey = setlistItem.key;
                        console.log(`Song ${songName} found in setlist. Using key: ${selectedKey}`);
                    }
                }

                const dataToStore = {
                    name: songName,
                    type: contentType,
                    content: songContent
                };

                // Add key ONLY if found in setlist (regardless of which table was clicked)
                if (selectedKey)
                {
                    dataToStore.selectedKey = selectedKey;
                } else
                {
                    console.log(`Song ${songName} not in current setlist, key will default in template.`);
                }

                sessionStorage.setItem('songData', JSON.stringify(dataToStore));
                window.location.href = templateURL;

            } catch (error)
            {
                console.error("Error in handleSongClick: ", error);
                alert(`Error loading content: ${error.message}`);
            }
        }

        // --- Search Function ---
        function myFunction()
        {
            var input, filter, table, tbody, tr, td, i, txtValue;
            input = document.getElementById("myInput");
            if (!input) return; // Exit if input doesn't exist
            filter = input.value.toUpperCase();
            table = document.getElementById("tabletwo");
            if (!table) return; // Exit if table doesn't exist
            tbody = table.querySelector("tbody");
            if (!tbody) return;
            tr = tbody.getElementsByTagName("tr");

            for (i = 0; i < tr.length; i++)
            {
                td = tr[i].getElementsByTagName("td")[0];
                if (td)
                {
                    txtValue = td.textContent || td.innerText;
                    if (txtValue.toUpperCase().indexOf(filter) > -1)
                    {
                        tr[i].style.display = "";
                    } else
                    {
                        tr[i].style.display = "none";
                    }
                }
            }
        }

        // --- Initial Setup on Page Load ---
        document.addEventListener('DOMContentLoaded', () =>
        {

            // Attach search function listener if not done in HTML
            const searchInput = document.getElementById("myInput");
            if (searchInput && !searchInput.hasAttribute('onkeyup'))
            {
                searchInput.addEventListener('keyup', myFunction);
            }

            // Populate the song dropdown for the modal (needs tabletwo to be loaded)
            populateSongDropdown();

            // Load the initial setlist data from Supabase
            // This function now also calls updateTableOneWithSetlist in its finally block
            loadSetlistFromSupabase();

            // Add Event Delegation for ALL Song Links in Table One and Table Two
            document.body.addEventListener('click', (event) =>
            {
                const link = event.target.closest('a[data-song-name]');
                if (link)
                {
                    const parentTable = link.closest('#tableone, #tabletwo');
                    if (parentTable)
                    {
                        handleSongClick(event, link); // Call handler with event and link
                    }
                }
            });

            console.log("DOM fully loaded and parsed, initial setup complete.");
        });

    </script>
</body>

</html>